# Interview Lab v0.1 - 启动指南

## 📋 开始前的准备工作

### 步骤 1：确认环境
确保你的电脑已安装：
- **Node.js**（版本 18 或更高）
  - 检查方法：打开终端，输入 `node --version`，应显示类似 `v18.x.x` 或更高
  - 如未安装：访问 https://nodejs.org/ 下载安装

### 步骤 2：获取 API Key（三选一，推荐 Groq 免费用）
- **Groq（推荐，免费无需充值）**：https://console.groq.com 注册 → 创建 API Key → 在 `server/.env` 中填写 `GROQ_API_KEY=gsk_xxx`（若已填了别的 Key，可注释掉 DEEPSEEK/OPENAI 那几行，只留 GROQ）
- **DeepSeek**：https://platform.deepseek.com（需账户有余额，否则会报 402 Insufficient Balance）
- **OpenAI**：https://platform.openai.com/api-keys（需额度，否则 429）

---

## 🚀 启动步骤（按顺序执行）

### 步骤 1：安装依赖
打开终端，进入项目目录：
```bash
cd /Users/jackyg/interview-lab
npm run install:all
```
这会自动安装根目录、server、client 三个位置的依赖，可能需要 1-2 分钟。

### 步骤 2：配置 API Key
在 `server` 目录下创建 `.env` 文件并填入你的 API Key：

**方法 A（推荐）：使用命令行**
```bash
cd /Users/jackyg/interview-lab/server
cp .env.example .env
# 然后用文本编辑器打开 .env，将 OPENAI_API_KEY=sk-your-key-here 中的 sk-your-key-here 替换为你的真实 key
```

**方法 B：手动创建**
1. 在 `server` 目录下创建文件 `.env`
2. 任选一种（二选一）：
   - 使用 OpenAI：`OPENAI_API_KEY=sk-xxx`
   - 使用 DeepSeek：`DEEPSEEK_API_KEY=sk-xxx`（推荐，避免 429 额度不足）

### 步骤 3：启动服务
在项目根目录执行：
```bash
cd /Users/jackyg/interview-lab
npm run dev
```

你会看到类似输出：
```
Interview Lab server running at http://localhost:3001
VITE v5.x.x  ready in xxx ms
  ➜  Local:   http://localhost:5173/
```

✅ **成功标志**：
- 后端运行在 `http://localhost:3001`
- 前端运行在 `http://localhost:5173`

### 步骤 4：打开浏览器
访问：**http://localhost:5173**

---

## 📖 使用流程

### 1️⃣ 首页操作
1. **上传简历**：点击上传区域，选择你的简历文件（支持 PDF、Word）
   - 上传后会自动解析，显示 "已解析"
2. **输入岗位**：在输入框填写目标岗位（如：产品经理、前端开发）
3. **选择公司风格**：选择一种模式
   - **落地型**：侧重实际执行、项目落地细节
   - **思维型**：侧重战略判断、逻辑思维
   - **压力型**：侧重应急处理、抗压能力
4. **点击「开始训练」**：系统会生成面试问题清单

### 2️⃣ 训练页操作
- **查看题目**：每道题显示类别、问题内容、为什么会被问、对应考察能力
- **输入回答**：在文本框输入你的回答（可简洁表述）
- **提交回答**：点击「提交回答」查看四层优化反馈
  - 结构评分（背景/目标/行动/结果/复盘）
  - 能力映射（展示的能力、缺失的能力）
  - 逻辑漏洞检测
  - 升级示范（优化后的回答版本）
- **跳过题目**：点击「跳过本题」进入下一题
- **追问训练**（仅项目拆解题）：
  - 提交回答后，会显示 6 个追问方向按钮
  - 点击任意方向，系统生成具体追问问题
  - 回答追问后，同样会得到优化反馈

### 3️⃣ 其他操作
- **返回首页**：点击页面顶部「返回首页」可重新设置输入项
- **查看进度**：页面顶部显示「当前题数/总题数」

---

## ⚠️ 常见问题

### Q1: 启动时提示 "npm: command not found"
**解决**：需要先安装 Node.js，访问 https://nodejs.org/ 下载安装

### Q2: 安装依赖失败（网络问题）
**解决**：检查网络连接，或使用国内镜像：
```bash
npm config set registry https://registry.npmmirror.com
npm run install:all
```

### Q3: 启动后访问页面报错 "简历解析失败"
**解决**：
- 检查 `server/.env` 文件是否存在且包含正确的 `OPENAI_API_KEY`
- 确认 API Key 有效且有余额
- 检查简历文件格式（支持 PDF、Word）

### Q4: 提示 "生成问题失败"、429 或 402 Insufficient Balance
**原因**：当前使用的 API 账户额度/余额不足（429=OpenAI 额度不足，402=DeepSeek 余额不足）。  
**解决（推荐）**：改用 **Groq（免费）**：  
1. 打开 https://console.groq.com 注册并创建 API Key  
2. 编辑 `server/.env`，注释掉 `OPENAI_API_KEY` 和 `DEEPSEEK_API_KEY` 那几行（行首加 `#`），新加一行：`GROQ_API_KEY=gsk_你的key`  
3. 保存后重启 `npm run dev`  
程序会优先使用 Groq，无需充值。

### Q5: 关闭浏览器后数据丢失
**正常现象**：v0.1 版本数据仅存当前会话，关闭页面即清空，符合 PRD 设计。

---

## 🎯 验收检查清单

启动成功后，请验证以下功能：
- [ ] 首页可以上传简历并解析成功
- [ ] 输入岗位和选择公司风格后，点击「开始训练」能跳转到训练页
- [ ] 训练页显示题目列表（约 10 题，5 大类）
- [ ] 每道题显示「为什么会被问」「对应考察能力」
- [ ] 输入回答后点击「提交回答」，能显示四层优化反馈
- [ ] 项目拆解题提交后，显示 6 个追问方向按钮
- [ ] 点击追问方向后，能生成追问问题并回答
- [ ] 追问回答也能得到优化反馈

---

## 💡 提示

- **首次使用**：建议先用一份简单简历测试，熟悉流程
- **回答质量**：回答可以简洁，系统会帮你优化结构
- **追问训练**：项目拆解题的追问是重点，建议多做训练
- **数据安全**：所有数据仅在当前浏览器会话中，关闭页面即清空，无需担心隐私

---

## 📞 需要帮助？

如遇到问题，请检查：
1. Node.js 版本是否符合要求
2. `.env` 文件配置是否正确
3. OpenAI API Key 是否有效
4. 终端错误信息（通常会有具体提示）
