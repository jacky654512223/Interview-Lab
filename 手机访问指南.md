# 手机访问 Interview Lab 指南

## 📱 前提条件

1. **手机和电脑必须在同一个 WiFi 网络**（同一路由器）
2. 电脑防火墙允许 5173 和 3001 端口的访问（macOS 通常默认允许）

---

## 🚀 步骤

### 1. 重启开发服务器

修改配置后，需要重启服务：

```bash
# 在终端按 Ctrl+C 停止当前服务
# 然后重新启动
cd /Users/jackyg/interview-lab
npm run dev
```

启动后，你会看到类似输出：
```
VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.x.x:5173/  ← 这个就是手机要访问的地址
```

### 2. 找到电脑的局域网 IP 地址

**方法 A：从 Vite 启动信息中查看**
- 启动 `npm run dev` 后，终端会显示 `Network: http://192.168.x.x:5173/`
- 这就是你的电脑在局域网中的 IP 地址

**方法 B：手动查找（macOS）**
```bash
# 在终端运行
ifconfig | grep "inet " | grep -v 127.0.0.1
```

会显示类似：
```
inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
```
其中 `192.168.1.100` 就是你的局域网 IP（你的可能不同）

**方法 C：系统设置查看**
- macOS：系统设置 → 网络 → WiFi → 详细信息 → IP 地址

### 3. 在手机浏览器访问

1. 确保手机连接了**和电脑相同的 WiFi**
2. 打开手机浏览器（Safari、Chrome 等）
3. 输入：`http://你的电脑IP:5173`
   - 例如：`http://192.168.1.100:5173`
   - 注意：**不要用 `localhost`**，要用实际的 IP 地址

---

## ⚠️ 常见问题

### Q1: 手机显示"无法连接"或"拒绝访问"
**解决**：
- 确认手机和电脑在同一 WiFi
- 确认电脑防火墙没有阻止（macOS 通常不需要设置）
- 确认启动时显示了 `Network: http://192.168.x.x:5173/`
- 尝试关闭电脑的 VPN（如果有）

### Q2: 手机能打开页面，但上传简历/生成问题失败
**原因**：后端 API（3001 端口）可能没有监听局域网  
**解决**：后端默认只监听 localhost，需要修改。但通常前端代理会处理，如果不行，可以：
- 在手机浏览器直接访问：`http://你的电脑IP:3001` 测试后端是否可访问
- 如果不行，需要修改 `server/index.js` 让后端也监听 `0.0.0.0`

### Q3: IP 地址变了
**原因**：路由器可能给电脑分配了新的 IP（DHCP）  
**解决**：
- 重新运行 `ifconfig` 查看新 IP
- 或在路由器设置中为电脑设置静态 IP（可选）

### Q4: 手机访问很慢
**原因**：开发模式，且手机和电脑网络延迟  
**解决**：正常现象，生产环境部署后会更快

---

## 💡 提示

- **开发时**：用电脑访问 `localhost:5173` 最快
- **测试手机端**：用手机访问 `http://你的IP:5173`
- **生产部署**：部署到服务器后，手机和电脑都能通过域名访问

---

## 🔧 如果还是不行

检查清单：
- [ ] 手机和电脑在同一 WiFi
- [ ] 电脑防火墙允许 5173 端口
- [ ] Vite 启动时显示了 Network 地址
- [ ] 手机浏览器输入的是 `http://IP:5173`（不是 localhost）
- [ ] 尝试关闭电脑 VPN（如果有）
